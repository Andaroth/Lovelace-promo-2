<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pendu</title>
</head>
<body>

    <p>Regarde la console</p>

    <script>
        // afficher la console pour voir le résultat 

        // déclare des variables globales, accessible partout dans le code
        let word = ['B','O','N','J','O','U','R'];
        let guessed = ['_','_','_','_','_','_','_']; 
        let trials = [];

        console.log("Devine la bonne lettre pour sauver le futur pendu.");
        console.log("Il y a  " + word.length + " lettres à deviner " + guessed);
        console.log("Écris dans la console \"guessLetter('A')\" pour deviner si la lettre 'A' est dans le mot à deviner");

        let guessLetter = function (letter) {
            // déclare des variables locales/privée, accessible unique au sein de cette fonction
            let message = ""; // mon futur message à 'utilisateur' 
            let found = false; // sera utilisé pour savoir si la lettre est la bonne
            let count_letters_to_find = 0; // pour compter combien de lettre il reste à trouver
            let letter_already_guessed = false; // pour savoir si une lettre a déjà été entrée

            // regarde si la lettre a déjà été entrée
            for (let i = 0; i < trials.length; i++) {
                if(letter == trials[i]){
                   return "Ces lettres (" + trials + ") ont déjà été entrée ";
                }
            }
            // ajoute la lettre aux lettres essayées
            trials.push(letter);

            // regarde si la lettre fais partie du mot à deviner
            for(let i = 0; i < word.length; i++){
                if(letter == word[i]){ // si lettre entrée correspond à la lattre courrante
                    found = true; // une lettre a été trouvée
                    guessed[i] = letter; // la valeur '_' est remplacée par la lettre entrée au bon endroit grâce à i (voir les tableaux)
                }
            }
            // regarde si il y a encore des lettres à deviner dans le tableau
            for (var i = 0; i < guessed.length; i++) {
                if(guessed[i] == "_"){
                    count_letters_to_find = count_letters_to_find + 1;
                }
            }

            // si la lettre est trouvée, féliciter le joueur
            if(found){ 
                message = "Vous avez bien deviné ! ";
            } else { // sinon le notifier qu'il a raté
                message = "Vous avez raté ! ";
            }

            // si il reste des lettres à touver
            if(count_letters_to_find){ 
                message = message + "Il y a encore " + count_letters_to_find + " lettres à trouver " + guessed;
            } else { // sinon il n'y a plus de lettre à trouver
                message = message + "Bravo ! le mot était " + word + " Tu a fini en " + trials.length + " coups.";
            } 

            // retourne le message pour l'afficher dans la console
            return message;
        }

        /*
            Il est évidement possible de simplifier ce code avec des fonctionalités plus avancées en JS.
            Le but ici, était de montrer qu'il est possbile de faire un jeu avec des outils simples (variable, boucle, confition, fcontion).
        */
        

    </script>
</body>
</html>
